import os
import requests
import datetime
import hashlib
import json
import random
import time
import re
from collections import Counter
from dotenv import load_dotenv

load_dotenv()

BOT_TOKEN = os.getenv("BOT_TOKEN")
CHANNEL_ID = os.getenv("CHANNEL_ID")
GEMINI_API_KEY = os.getenv("GEMINI_API_KEY")
HISTORY_FILE = "post_history.json"

class ProfessionalPostGenerator:
    def __init__(self):
        self.history = self.load_post_history()
        
        self.main_themes = ["HR –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º", "PR –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏", "—Ä–µ–º–æ–Ω—Ç –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ"]
        
        self.time_configs = {
            "morning": {"target_chars": 800, "description": "—ç–Ω–µ—Ä–≥–∏—á–Ω—ã–π, –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–π, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π"},
            "afternoon": {"target_chars": 1200, "description": "–∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π, —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–π, –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π"}, 
            "evening": {"target_chars": 1000, "description": "—Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ã–π, –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–π, –¥—Ä—É–∂–µ—Å–∫–∏–π"}
        }
        
        self.hashtags = {
            "HR –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º": [
                "#HR", "#—Ä–µ–∫—Ä—É—Ç–∏–Ω–≥", "#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º", "#–º–æ—Ç–∏–≤–∞—Ü–∏—è", "#–∫–æ–º–∞–Ω–¥–∞",
                "#–∫–∞–¥—Ä—ã", "#HR–∞–Ω–∞–ª–∏—Ç–∏–∫–∞", "#—Ä–∞–∑–≤–∏—Ç–∏–µ–ø–µ—Ä—Å–æ–Ω–∞–ª–∞", "#–±—Ä–µ–Ω–¥—Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è", 
                "#–∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è–∫—É–ª—å—Ç—É—Ä–∞", "#–ª–∏–¥–µ—Ä—Å—Ç–≤–æ", "#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ", "#–±–∏–∑–Ω–µ—Å",
                "#–∫–∞—Ä—å–µ—Ä–∞", "#—Ä–∞–±–æ—Ç–∞", "#2025", "#—Ç—Ä–µ–Ω–¥—ã2025"
            ],
            "PR –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏": [
                "#PR", "#–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏", "#–ø–∏–∞—Ä", "#–±—Ä–µ–Ω–¥", "#—Ä–µ–ø—É—Ç–∞—Ü–∏—è", 
                "#–º–µ–¥–∏–∞", "#—Å–æ—Ü—Å–µ—Ç–∏", "#–º–∞—Ä–∫–µ—Ç–∏–Ω–≥", "#–∫–æ–Ω—Ç–µ–Ω—Ç", "#SMM",
                "#–∫—Ä–∏–∑–∏—Å–Ω—ã–µ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏", "#–±—Ä–µ–Ω–¥–∏–Ω–≥", "#–∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä—ã",
                "#digital", "#–ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ", "#2025", "#–Ω–æ–≤–æ–µ–≤PR"
            ],
            "—Ä–µ–º–æ–Ω—Ç –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ": [
                "#—Ä–µ–º–æ–Ω—Ç", "#—Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ", "#–¥–∏–∑–∞–π–Ω", "#–∏–Ω—Ç–µ—Ä—å–µ—Ä", "#–∫–≤–∞—Ä—Ç–∏—Ä–∞",
                "#–¥–æ–º", "#–µ–≤—Ä–æ—Ä–µ–º–æ–Ω—Ç", "#—Å—Ç—Ä–æ–π–∫–∞", "#–º–∞—Ç–µ—Ä–∏–∞–ª—ã", "#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏",
                "#—É–º–Ω—ã–π–¥–æ–º", "#—ç–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å", "#–ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞",
                "#–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å", "#–∂–∏–ª—å–µ", "#2025", "#—Ç—Ä–µ–Ω–¥—ã—Ä–µ–º–æ–Ω—Ç–∞"
            ]
        }

    def load_post_history(self):
        try:
            if os.path.exists(HISTORY_FILE):
                with open(HISTORY_FILE, 'r', encoding='utf-8') as f:
                    return json.load(f)
        except Exception as e:
            print(f"‚ö†Ô∏è –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏: {e}")
            
        return {
            "post_hashes": [],
            "daily_posts": {},
            "channel_analysis": {},
            "last_reset_date": datetime.datetime.now().strftime('%Y-%m-%d')
        }

    def save_post_history(self):
        try:
            with open(HISTORY_FILE, 'w', encoding='utf-8') as f:
                json.dump(self.history, f, ensure_ascii=False, indent=2)
        except Exception as e:
            print(f"‚ö†Ô∏è –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: {e}")

    def get_time_of_day(self):
        current_hour = datetime.datetime.now().hour
        if 6 <= current_hour < 12:
            return "morning"
        elif 12 <= current_hour < 18:
            return "afternoon"
        else:
            return "evening"

    def get_channel_posts(self, limit=50):
        """–ü–æ–ª—É—á–∞–µ—Ç –ø–æ—Å—Ç—ã –∏–∑ Telegram –∫–∞–Ω–∞–ª–∞"""
        print("üìä –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ—Å—Ç—ã –≤ –∫–∞–Ω–∞–ª–µ...")
        
        try:
            url = f"https://api.telegram.org/bot{BOT_TOKEN}/getChatHistory"
            payload = {
                "chat_id": CHANNEL_ID,
                "limit": limit
            }
            
            response = requests.post(url, json=payload, timeout=30)
            response.raise_for_status()
            
            data = response.json()
            posts = []
            
            if data.get("ok") and data.get("result"):
                for message in data["result"]:
                    content = ""
                    if "text" in message:
                        content = message["text"]
                    elif "caption" in message:
                        content = message["caption"]
                    
                    if content and len(content.strip()) > 30:
                        posts.append({
                            "content": content,
                            "date": message.get("date", ""),
                            "message_id": message.get("message_id")
                        })
            
            print(f"‚úÖ –ü–æ–ª—É—á–µ–Ω–æ {len(posts)} –ø–æ—Å—Ç–æ–≤ –∏–∑ –∫–∞–Ω–∞–ª–∞")
            return posts
            
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Å—Ç–æ–≤: {e}")
            return []

    def analyze_channel_content(self, posts):
        """–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –∫–∞–Ω–∞–ª–∞"""
        if not posts:
            return {
                "used_themes": [],
                "frequent_words": [],
                "post_frequency": {}
            }
        
        analysis = {
            "used_themes": [],
            "frequent_words": [],
            "post_frequency": {}
        }
        
        all_content = " ".join([post["content"] for post in posts])
        
        # –ê–Ω–∞–ª–∏–∑ —Ç–µ–º
        for theme in self.main_themes:
            theme_keywords = self.get_theme_keywords(theme)
            for keyword in theme_keywords:
                if keyword in all_content.lower():
                    if theme not in analysis["used_themes"]:
                        analysis["used_themes"].append(theme)
                    break
        
        # –ê–Ω–∞–ª–∏–∑ —á–∞—Å—Ç—ã—Ö —Å–ª–æ–≤
        words = re.findall(r'\b[–∞-—èa-z]{4,}\b', all_content.lower())
        stop_words = {
            '—ç—Ç–æ—Ç', '—ç—Ç–æ', '—Ç–∞–∫–∂–µ', '–æ—á–µ–Ω—å', '–º–æ–∂–Ω–æ', '–±—É–¥–µ—Ç', '–µ—Å—Ç—å', 
            '–∫–æ—Ç–æ—Ä—ã–π', '—Ç–æ–ª—å–∫–æ', '–ø–æ—Å–ª–µ', '–∫–æ–≥–¥–∞', '–ø–æ—Ç–æ–º—É', '–º–æ–∂–µ—Ç'
        }
        word_freq = Counter([word for word in words if word not in stop_words])
        analysis["frequent_words"] = [word for word, count in word_freq.most_common(15)]
        
        return analysis

    def get_theme_keywords(self, theme):
        """–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–º—ã"""
        keywords = {
            "HR –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º": [
                "hr", "–ø–µ—Ä—Å–æ–Ω–∞–ª", "—Å–æ—Ç—Ä—É–¥–Ω–∏–∫", "–∫–æ–º–∞–Ω–¥–∞", "—Ä–µ–∫—Ä—É—Ç–∏–Ω–≥", "–Ω–∞–π–º",
                "–º–æ—Ç–∏–≤–∞—Ü–∏—è", "–æ–±—É—á–µ–Ω–∏–µ", "—Ä–∞–∑–≤–∏—Ç–∏–µ", "–∫–∞–¥—Ä", "hrbp", "kpi"
            ],
            "PR –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏": [
                "pr", "–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è", "–±—Ä–µ–Ω–¥", "—Ä–µ–ø—É—Ç–∞—Ü", "–º–µ–¥–∏–∞", "–ø–∏–∞—Ä",
                "–ø—É–±–ª–∏—á–Ω—ã–π", "—Å–º–∏", "–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", "–∫–æ–º—å—é–Ω–∏—Ç–∏"
            ],
            "—Ä–µ–º–æ–Ω—Ç –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ": [
                "—Ä–µ–º–æ–Ω—Ç", "—Å—Ç—Ä–æ–∏—Ç–µ–ª—å", "–∫–≤–∞—Ä—Ç–∏—Ä", "–¥–æ–º", "–¥–∏–∑–∞–π–Ω", "–∏–Ω—Ç–µ—Ä—å–µ—Ä",
                "–æ—Ç–¥–µ–ª–∫", "–º–∞—Ç–µ—Ä–∏–∞–ª", "–ø—Ä–æ–µ–∫—Ç", "—Ä–µ–º–æ–Ω—Ç", "—Å—Ç—Ä–æ–∏—Ç", "–æ–±—ä–µ–∫—Ç"
            ]
        }
        return keywords.get(theme, [])

    def select_optimal_theme(self, channel_analysis):
        """–í—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Ç–µ–º—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –∫–∞–Ω–∞–ª–∞"""
        used_themes = channel_analysis.get("used_themes", [])
        today = datetime.datetime.now().strftime('%Y-%m-%d')
        
        # –£—á–∏—Ç—ã–≤–∞–µ–º –ø–æ—Å—Ç—ã –∑–∞ —Å–µ–≥–æ–¥–Ω—è
        today_posts = self.history.get("daily_posts", {}).get(today, [])
        
        # –í—ã–±–∏—Ä–∞–µ–º —Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –º–µ–Ω—å—à–µ –≤—Å–µ–≥–æ
        theme_counts = {}
        for theme in self.main_themes:
            theme_counts[theme] = used_themes.count(theme) + today_posts.count(theme)
        
        min_count = min(theme_counts.values()) if theme_counts else 0
        available_themes = [theme for theme, count in theme_counts.items() if count == min_count]
        
        return random.choice(available_themes) if available_themes else random.choice(self.main_themes)

    def generate_thematic_image(self, theme):
        theme_keywords = {
            "HR –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º": "business,team,office,professional,meeting",
            "PR –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏": "media,communication,social,network,marketing",
            "—Ä–µ–º–æ–Ω—Ç –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ": "construction,design,architecture,home,renovation"
        }
        
        keywords = theme_keywords.get(theme, "business,development")
        timestamp = int(time.time() * 1000)
        
        return f"https://picsum.photos/1200/800?random={timestamp}&blur=1"

    def add_hashtags(self, post_text, theme):
        """–î–æ–±–∞–≤–ª—è–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ö–µ—à—Ç–µ–≥–∏ –∫ –ø–æ—Å—Ç—É"""
        theme_hashtags = self.hashtags.get(theme, [])
        
        # –í—ã–±–∏—Ä–∞–µ–º 5-7 —Å–∞–º—ã—Ö —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ö–µ—à—Ç–µ–≥–æ–≤
        selected_hashtags = random.sample(theme_hashtags, min(7, len(theme_hashtags)))
        
        hashtags_string = " ".join(selected_hashtags)
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ö–µ—à—Ç–µ–≥–∏ –≤ –∫–æ–Ω–µ—Ü –ø–æ—Å—Ç–∞
        return f"{post_text}\n\n{hashtags_string}"

    def generate_professional_post(self, theme, time_of_day):
        tone = self.time_configs[time_of_day]["description"]
        
        prompt = f"""
        –¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥, –∫–æ–ø–∏—Ä–∞–π—Ç–µ—Ä –∏ PR-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç. –°–æ–∑–¥–∞–π –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ—Å—Ç –¥–ª—è Telegram –∫–∞–Ω–∞–ª–∞.

        –¢–ï–ú–ê: {theme}
        –¢–û–ù: {tone}
        –í–†–ï–ú–Ø –°–£–¢–û–ö: {time_of_day}

        –°–¢–†–£–ö–¢–£–†–ê –ü–û–°–¢–ê:
        
        üéØ HOOK - —Ü–µ–ø–ª—è—é—â–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ (1-2 —Å—Ç—Ä–æ–∫–∏, –º–∞–∫—Å–∏–º—É–º –≤–æ–≤–ª–µ—á–µ–Ω–∏—è)
        
        üìù –ö–æ–Ω—Ç–µ–∫—Å—Ç - –∫—Ä–∞—Ç–∫–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ –≤ –ø—Ä–æ–±–ª–µ–º—É (2-3 —Å—Ç—Ä–æ–∫–∏)
        
        üí° –ì–ª–∞–≤–Ω–∞—è –º—ã—Å–ª—å - –∫–ª—é—á–µ–≤–æ–π –∏–Ω—Å–∞–π—Ç (1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)
        
        ‚úÖ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–ª—å–∑–∞ - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
        ‚Ä¢ –ü—É–Ω–∫—Ç 1
        ‚Ä¢ –ü—É–Ω–∫—Ç 2  
        ‚Ä¢ –ü—É–Ω–∫—Ç 3
        ‚Ä¢ –ü—É–Ω–∫—Ç 4
        
        üé™ –ú–∏–Ω–∏-–∫–µ–π—Å - —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä (1-2 —Å—Ç—Ä–æ–∫–∏)
        
        üîö –ò—Ç–æ–≥ - —Å–∏–ª—å–Ω—ã–π –≤—ã–≤–æ–¥
        
        üí¨ CTA - –ª–µ–≥–∫–∏–π –ø—Ä–∏–∑—ã–≤ –∫ –æ–±—Å—É–∂–¥–µ–Ω–∏—é

        –¢–†–ï–ë–û–í–ê–ù–ò–Ø:
        - –¢–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π, —Å–≤–µ–∂–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç 2024-2025
        - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã, –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, —Ñ–∞–∫—Ç—ã
        - –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —ç–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∞–∫—Ü–µ–Ω—Ç–∞
        - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è —á–∏—Ç–∞—Ç–µ–ª—è
        - –ß–∏—Ç–∞–±–µ–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å –∞–±–∑–∞—Ü–∞–º–∏
        - –ñ–∏–≤–æ–π, —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —è–∑—ã–∫ –±–µ–∑ —à–∞–±–ª–æ–Ω–æ–≤
        - –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã –∏ –∏–Ω—Å–∞–π—Ç—ã
        - –î–ª–∏–Ω–∞: –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –¥–ª—è —á—Ç–µ–Ω–∏—è
        - –ù–ï –¥–æ–±–∞–≤–ª—è–π —Ö–µ—à—Ç–µ–≥–∏ –≤ —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞
        """

        try:
            response = requests.post(
                f"https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent?key={GEMINI_API_KEY}",
                json={
                    "contents": [{"parts": [{"text": prompt}]}],
                    "generationConfig": {
                        "maxOutputTokens": 1500,
                        "temperature": 0.9,
                    }
                },
                timeout=60
            )
            
            if response.status_code == 200:
                data = response.json()
                post_text = data["candidates"][0]["content"]["parts"][0]["text"].strip()
                
                # –î–æ–±–∞–≤–ª—è–µ–º —Ö–µ—à—Ç–µ–≥–∏ –∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –ø–æ—Å—Ç—É
                post_with_hashtags = self.add_hashtags(post_text, theme)
                return post_with_hashtags
            else:
                return None
                
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: {e}")
            return None

    def create_quality_fallback(self, theme, time_of_day):
        fallbacks = {
            "HR –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º": {
                "morning": """üöÄ –£—Ç—Ä–µ–Ω–Ω–∏–π HR-–∑–∞—Ä—è–¥: –ú–æ—Ç–∏–≤–∞—Ü–∏—è 2025

73% —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Ç–µ—Ä—è—é—Ç –∏–Ω—Ç–µ—Ä–µ—Å –∫ —Ä–∞–±–æ—Ç–µ –±–µ–∑ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ —Ñ–∏–¥–±–µ–∫–∞. 

–ö–ª—é—á–µ–≤–æ–π –∏–Ω—Å–∞–π—Ç: –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ —Å—Ç–æ–∏—Ç –¥–æ—Ä–æ–∂–µ –¥–µ–Ω–µ–≥.

‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–≥–æ–¥–Ω—è:
‚Ä¢ –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ 15-–º–∏–Ω—É—Ç–Ω—ã–µ 1:1 –≤—Å—Ç—Ä–µ—á–∏
‚Ä¢ –°–∏—Å—Ç–µ–º–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–∑–Ω–∞–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π  
‚Ä¢ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç—ã —Ä–∞–∑–≤–∏—Ç–∏—è
‚Ä¢ –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

–ö–µ–π—Å: –≤–Ω–µ–¥—Ä–∏–ª–∏ —Å–∏—Å—Ç–µ–º—É –º–∏–∫—Ä–æ-–±–æ–Ω—É—Å–æ–≤ - –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å –≤—ã—Ä–æ—Å–ª–∞ –Ω–∞ 40%.

–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å –∫–æ–º–∞–Ω–¥–æ–π –æ–∫—É–ø–∞—é—Ç—Å—è –ª–æ—è–ª—å–Ω–æ—Å—Ç—å—é.

–ö–∞–∫ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç–µ —Å–≤–æ—é –∫–æ–º–∞–Ω–¥—É?""",

                "afternoon": """üìä –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑: –†–µ–∫—Ä—É—Ç–∏–Ω–≥ –≤ —ç–ø–æ—Ö—É AI

–ù–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ 2025: 60% –∫–æ–º–ø–∞–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç AI –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –æ—Ç–±–æ—Ä–∞.

–ì–ª–∞–≤–Ω–æ–µ: —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –Ω–µ –∑–∞–º–µ–Ω—è—Ç —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–µ —á—É—Ç—å–µ.

‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∫—Ä—É—Ç–∏–Ω–≥ —Å–µ–≥–æ–¥–Ω—è:
‚Ä¢ AI-—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—é–º–µ + –ª–∏—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞
‚Ä¢ –í–∏–¥–µ–æ-–∏–Ω—Ç–µ—Ä–≤—å—é —Å –∞–Ω–∞–ª–∏–∑–æ–º —ç–º–æ—Ü–∏–π
‚Ä¢ –¢–µ—Å—Ç–æ–≤—ã–µ —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏ –≤–º–µ—Å—Ç–æ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–π
‚Ä¢ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º –±–æ–Ω—É—Å–æ–º

–ö–µ–π—Å: —Å–æ–∫—Ä–∞—Ç–∏–ª–∏ –≤—Ä–µ–º—è –Ω–∞–π–º–∞ —Å 45 –¥–æ 14 –¥–Ω–µ–π.

–ë–∞–ª–∞–Ω—Å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ - –∫–ª—é—á –∫ —É—Å–ø–µ—Ö—É.

–ö–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã —Ä–µ–∫—Ä—É—Ç–∏–Ω–≥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —É –≤–∞—Å?""",

                "evening": """üåô –í–µ—á–µ—Ä–Ω–∏–µ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è: –õ–∏–¥–µ—Ä—Å—Ç–≤–æ 2025

82% —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Ü–µ–Ω—è—Ç —ç–º–ø–∞—Ç–∏—é —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è –≤—ã—à–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤.

–°—É—Ç—å: —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ª–∏–¥–µ—Ä - —ç—Ç–æ –≤–¥–æ—Ö–Ω–æ–≤–∏—Ç–µ–ª—å, –∞ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä.

‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞ —ç–º–ø–∞—Ç–∏—á–Ω–æ–≥–æ –ª–∏–¥–µ—Ä—Å—Ç–≤–∞:
‚Ä¢ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ "—á–∞—à–∫–∏ –∫–æ—Ñ–µ" —Å –∫–æ–º–∞–Ω–¥–æ–π
‚Ä¢ –û—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å –∫ –æ—à–∏–±–∫–∞–º –∏ –æ–±—É—á–µ–Ω–∏—é
‚Ä¢ –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –≤ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π
‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ work-life –±–∞–ª–∞–Ω—Å–∞

–ò—Å—Ç–æ—Ä–∏—è: —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π —Å–∞–º –ø—Ä–æ—à–µ–ª –≤—Å–µ –æ—Ç–¥–µ–ª—ã, –ø–æ—Å—Ç—Ä–æ–∏–ª —Å–∞–º—É—é —Å–ø–ª–æ—á–µ–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.

–ò—Å—Ç–∏–Ω–Ω–∞—è —Å–∏–ª–∞ –ª–∏–¥–µ—Ä–∞ - –≤ —É–º–µ–Ω–∏–∏ —Å–ª—É—à–∞—Ç—å –∏ —Å–ª—ã—à–∞—Ç—å.

–ö–∞–∫–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Ü–µ–Ω–∏—Ç–µ –≤ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è—Ö?"""
            },
            
            "PR –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏": {
                "morning": """üì± –£—Ç—Ä–µ–Ω–Ω–∏–π PR-–ø—Ä–æ—Ä—ã–≤: TikTok –¥–ª—è –±–∏–∑–Ω–µ—Å–∞

–®–æ–∫: 85% –±—Ä–µ–Ω–¥–æ–≤ –Ω–µ–¥–æ–æ—Ü–µ–Ω–∏–≤–∞—é—Ç –≤–∏–¥–µ–æ–∫–æ–Ω—Ç–µ–Ω—Ç –≤ 2025.

–ò–Ω—Å–∞–π—Ç: –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å –ø–æ–±–µ–∂–¥–∞–µ—Ç –ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å.

‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏—è TikTok –¥–ª—è B2B:
‚Ä¢ –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–æ–ª–∏–∫–∏ "–∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å"
‚Ä¢ –ó–∞–∫—É–ª–∏—Å–Ω—ã–µ –≤–∏–¥–µ–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
‚Ä¢ –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
‚Ä¢ –ö–µ–π—Å—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏

–ü—Ä–∏–º–µ—Ä: IT-–∫–æ–º–ø–∞–Ω–∏—è –ø–æ–ª—É—á–∏–ª–∞ 200+ –ª–∏–¥–æ–≤ —Å –æ–¥–Ω–æ–≥–æ –≤–∏—Ä—É—Å–Ω–æ–≥–æ —Ä–æ–ª–∏–∫–∞.

–í–∏–¥–µ–æ - –Ω–æ–≤—ã–π email-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥.

–£–∂–µ –ø—Ä–æ–±–æ–≤–∞–ª–∏ TikTok –¥–ª—è –±–∏–∑–Ω–µ—Å–∞?""",

                "afternoon": """üî• –ì–ª—É–±–æ–∫–∏–π —Ä–∞–∑–±–æ—Ä: –ö—Ä–∏–∑–∏—Å–Ω—ã–µ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏

–ù–æ–≤—ã–µ —É–≥—Ä–æ–∑—ã 2025: —Ñ–µ–π–∫–æ–≤—ã–µ –æ—Ç–∑—ã–≤—ã —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è –≤ 10 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–∞–≤–¥—ã.

–ö–ª—é—á–µ–≤–æ–µ: —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏ –≤–∞–∂–Ω–µ–µ –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞.

‚úÖ –ê–Ω—Ç–∏–∫—Ä–∏–∑–∏—Å–Ω—ã–π –ø–ª–∞–Ω:
‚Ä¢ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π 24/7
‚Ä¢ –®–∞–±–ª–æ–Ω—ã –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
‚Ä¢ –û–±—É—á–µ–Ω–Ω—ã–µ —Å–ø–∏–∫–µ—Ä—ã –≤ –∫–∞–∂–¥–æ–º –æ—Ç–¥–µ–ª–µ
‚Ä¢ –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∫–∞–∫ –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø

–ö–µ–π—Å: –±—Ä–µ–Ω–¥, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–∑–Ω–∞–ª –æ—à–∏–±–∫—É –∑–∞ 20 –º–∏–Ω—É—Ç, —Å–æ—Ö—Ä–∞–Ω–∏–ª 90% –∫–ª–∏–µ–Ω—Ç–æ–≤.

–ß–µ—Å—Ç–Ω–æ—Å—Ç—å - –ª—É—á—à–∞—è –∑–∞—â–∏—Ç–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏.

–°—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å —Å –∫—Ä–∏–∑–∏—Å–∞–º–∏ –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö?""",

                "evening": """üíé –í–µ—á–µ—Ä–Ω–∏–π –∏–Ω—Å–∞–π—Ç: –ë—Ä–µ–Ω–¥ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è 2025

67% —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –≤—ã–±–∏—Ä–∞—é—Ç –∫–æ–º–ø–∞–Ω–∏—é –ø–æ –æ—Ç–∑—ã–≤–∞–º –±—ã–≤—à–∏—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.

–°—É—Ç—å: –≤–∞—à –±—Ä–µ–Ω–¥ —Å–æ–∑–¥–∞—é—Ç –Ω–µ HR, –∞ —Ä–µ–∞–ª—å–Ω—ã–µ –ª—é–¥–∏.

‚úÖ –ö–∞–∫ —Å—Ç—Ä–æ–∏—Ç—å –±—Ä–µ–Ω–¥ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è:
‚Ä¢ –ß–µ—Å—Ç–Ω—ã–µ –æ—Ç–∑—ã–≤—ã –æ—Ç —Ç–µ–∫—É—â–∏—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
‚Ä¢ –í–∏–¥–µ–æ-—Ç—É—Ä—ã –ø–æ –æ—Ñ–∏—Å—É –∏ –∫–æ–º–∞–Ω–¥–µ
‚Ä¢ –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∫–∞—Ä—å–µ—Ä–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ alumni-—Å–æ–æ–±—â–µ—Å—Ç–≤–∞

–ü—Ä–∏–º–µ—Ä: –∫–æ–º–ø–∞–Ω–∏—è, –≥–¥–µ —ç–∫—Å-—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞–º–∏.

–ù–∞—Å—Ç–æ—è—â–∏–π –±—Ä–µ–Ω–¥ —Å—Ç—Ä–æ–∏—Ç—Å—è –≥–æ–¥–∞–º–∏, –∞ —Ä–∞–∑—Ä—É—à–∞–µ—Ç—Å—è –∑–∞ –æ–¥–∏–Ω –ø–æ—Å—Ç.

–ö–∞–∫ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç–µ –±—Ä–µ–Ω–¥ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è?"""
            },
            
            "—Ä–µ–º–æ–Ω—Ç –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ": {
                "morning": """üè† –£—Ç—Ä–µ–Ω–Ω–∏–π –ª–∞–π—Ñ—Ö–∞–∫: –†–µ–º–æ–Ω—Ç –±–µ–∑ –ø–µ—Ä–µ–ø–ª–∞—Ç 2025

–¶–µ–Ω—ã –≤—ã—Ä–æ—Å–ª–∏ –Ω–∞ 35%, –Ω–æ —É–º–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —ç–∫–æ–Ω–æ–º—è—Ç –¥–æ 50% –±—é–¥–∂–µ—Ç–∞.

–°–µ–∫—Ä–µ—Ç: –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏.

‚úÖ –≠–∫–æ–Ω–æ–º–∏—è –±–µ–∑ –ø–æ—Ç–µ—Ä—å:
‚Ä¢ –õ–æ–∫–∞–ª—å–Ω—ã–µ –∞–Ω–∞–ª–æ–≥–∏ –∏–º–ø–æ—Ä—Ç–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
‚Ä¢ –ú–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –º–µ–±–µ–ª—å-—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä
‚Ä¢ –≠–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
‚Ä¢ –≠—Ç–∞–ø–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç –±–µ–∑ –ø—Ä–æ—Å—Ç–æ–µ–≤

–ö–µ–π—Å: –∫–≤–∞—Ä—Ç–∏—Ä–∞ –∑–∞ 3 –º–ª–Ω –≤–º–µ—Å—Ç–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö 5.

–ì—Ä–∞–º–æ—Ç–Ω—ã–π –ø–ª–∞–Ω - –ø–æ–ª–æ–≤–∏–Ω–∞ —É—Å–ø–µ—Ö–∞ –≤ —Ä–µ–º–æ–Ω—Ç–µ.

–ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã —ç–∫–æ–Ω–æ–º–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ?""",

                "afternoon": """üìê –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä: –£–º–Ω—ã–π –¥–æ–º 2025

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —É–º–Ω–æ–≥–æ –¥–æ–º–∞ –æ–∫—É–ø–∞—é—Ç—Å—è –∑–∞ 2-3 –≥–æ–¥–∞ –∑–∞ —Å—á–µ—Ç —ç–∫–æ–Ω–æ–º–∏–∏ —ç–Ω–µ—Ä–≥–∏–∏.

–ì–ª–∞–≤–Ω–æ–µ: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞.

‚úÖ –£–º–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ä–µ–º–æ–Ω—Ç–∞:
‚Ä¢ –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–≤–µ—Ç–æ–º –∏ –∫–ª–∏–º–∞—Ç–æ–º
‚Ä¢ –î–∞—Ç—á–∏–∫–∏ –ø—Ä–æ—Ç–µ—á–µ–∫ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –æ—Å–≤–µ—â–µ–Ω–∏—è
‚Ä¢ –°–æ–ª–Ω–µ—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ –¥–ª—è —ç–Ω–µ—Ä–≥–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ü—Ä–∏–º–µ—Ä: —Å–µ–º—å—è —ç–∫–æ–Ω–æ–º–∏—Ç 15 000 ‚ÇΩ/–º–µ—Å –Ω–∞ –∫–æ–º–º—É–Ω–∞–ª–∫–µ.

–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ - –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –∫–æ–º—Ñ–æ—Ä—Ç.

–£–∂–µ –∑–∞–¥—É–º—ã–≤–∞–ª–∏—Å—å –æ–± —É–º–Ω–æ–º –¥–æ–º–µ?""",

                "evening": """üåô –í–µ—á–µ—Ä–Ω–∏–µ –º—ã—Å–ª–∏: –î–∏–∑–∞–π–Ω –¥–ª—è –∂–∏–∑–Ω–∏ 2025

–¢—Ä–µ–Ω–¥: –º–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –≤–º–µ—Å—Ç–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç.

–§–∏–ª–æ—Å–æ—Ñ–∏—è: –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–¥ –∂–∏–∑–Ω—å, –∞ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç.

‚úÖ –¢—Ä–µ–Ω–¥—ã –¥–∏–∑–∞–π–Ω–∞ 2025:
‚Ä¢ –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ–º–∞—è –º–µ–±–µ–ª—å –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤
‚Ä¢ –≠–∫–æ–ª–æ–≥–∏—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã —Å –∏—Å—Ç–æ—Ä–∏–µ–π
‚Ä¢ –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
‚Ä¢ –ó–æ–Ω—ã —Ä–µ–ª–∞–∫—Å–∞ –≤–º–µ—Å—Ç–æ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã—Ö –≥–æ—Å—Ç–∏–Ω—ã—Ö

–ò—Å—Ç–æ—Ä–∏—è: –∫–≤–∞—Ä—Ç–∏—Ä–∞ 40–º¬≤, –∫–æ—Ç–æ—Ä–∞—è –∫–∞–∂–µ—Ç—Å—è –≤ –¥–≤–∞ —Ä–∞–∑–∞ –±–æ–ª—å—à–µ.

–•–æ—Ä–æ—à–∏–π –¥–∏–∑–∞–π–Ω - –∫–æ–≥–¥–∞ –∫—Ä–∞—Å–∏–≤–æ –∏ —É–¥–æ–±–Ω–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

–ö–∞–∫–æ–π —Å—Ç–∏–ª—å –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç –≤–∞—Å?"""
            }
        }
        
        fallback_text = fallbacks[theme][time_of_day]
        return self.add_hashtags(fallback_text, theme)

    def is_content_unique(self, content):
        content_hash = hashlib.md5(content.encode()).hexdigest()
        return content_hash not in self.history["post_hashes"]

    def mark_post_sent(self, content, theme):
        content_hash = hashlib.md5(content.encode()).hexdigest()
        today = datetime.datetime.now().strftime('%Y-%m-%d')
        
        self.history["post_hashes"].append(content_hash)
        
        if today not in self.history["daily_posts"]:
            self.history["daily_posts"][today] = []
        
        self.history["daily_posts"][today].append(theme)
        
        if len(self.history["post_hashes"]) > 200:
            self.history["post_hashes"] = self.history["post_hashes"][-200:]
        
        self.save_post_history()

    def send_to_telegram(self, message, image_url=None):
        try:
            if image_url:
                url = f"https://api.telegram.org/bot{BOT_TOKEN}/sendPhoto"
                payload = {
                    "chat_id": CHANNEL_ID,
                    "photo": image_url,
                    "caption": message,
                    "parse_mode": "HTML"
                }
            else:
                url = f"https://api.telegram.org/bot{BOT_TOKEN}/sendMessage"
                payload = {
                    "chat_id": CHANNEL_ID,
                    "text": message,
                    "parse_mode": "HTML"
                }
            
            response = requests.post(url, json=payload, timeout=30)
            response.raise_for_status()
            
            print("‚úÖ –ü–æ—Å—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ Telegram!")
            return True
            
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: {e}")
            return False

    def run(self):
        try:
            now = datetime.datetime.now()
            time_of_day = self.get_time_of_day()
            time_config = self.time_configs[time_of_day]
            
            print(f"\n{'='*50}")
            print(f"üöÄ –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ô –ì–ï–ù–ï–†–ê–¢–û–† –ü–û–°–¢–û–í")
            print(f"üìÖ {now.strftime('%d.%m.%Y %H:%M:%S')}")
            print(f"‚è∞ –í—Ä–µ–º—è: {time_of_day} ({time_config['description']})")
            print(f"{'='*50}")
            
            # –ê–Ω–∞–ª–∏–∑ –∫–∞–Ω–∞–ª–∞
            posts = self.get_channel_posts()
            channel_analysis = self.analyze_channel_content(posts)
            
            # –í—ã–±–æ—Ä —Ç–µ–º—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞
            theme = self.select_optimal_theme(channel_analysis)
            
            # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–∞
            post_text = self.generate_professional_post(theme, time_of_day)
            
            if not post_text or not self.is_content_unique(post_text):
                post_text = self.create_quality_fallback(theme, time_of_day)
            
            image_url = self.generate_thematic_image(theme)
            
            print(f"üìä –†–µ–∑—É–ª—å—Ç–∞—Ç:")
            print(f"   –¢–µ–º–∞: {theme}")
            print(f"   –î–ª–∏–Ω–∞: {len(post_text)} —Å–∏–º–≤–æ–ª–æ–≤")
            print(f"   –í—Ä–µ–º—è: {time_of_day}")
            
            # –û—Ç–ø—Ä–∞–≤–∫–∞
            success = self.send_to_telegram(post_text, image_url)
            
            if success:
                self.mark_post_sent(post_text, theme)
                print(f"‚úÖ –ì–æ—Ç–æ–≤–æ! –ü–æ—Å—Ç —Å–æ–∑–¥–∞–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω.")
            else:
                print("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ")
            
            print(f"{'='*50}\n")
            
        except Exception as e:
            print(f"üí• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: {e}")
            import traceback
            traceback.print_exc()

def main():
    bot = ProfessionalPostGenerator()
    bot.run()

if __name__ == "__main__":
    main()
