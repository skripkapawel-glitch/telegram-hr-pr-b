import os
import requests
import datetime
import hashlib
import json
import random
import time
import sys
from dotenv import load_dotenv

load_dotenv()

BOT_TOKEN = os.getenv("BOT_TOKEN")
CHANNEL_ID = os.getenv("CHANNEL_ID") 
GEMINI_API_KEY = os.getenv("GEMINI_API_KEY")

print("=" * 80)
print("üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ó–ê–ü–£–°–ö–ê")
print("=" * 80)

class SimplePostGenerator:
    def __init__(self):
        self.themes = ["HR –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º", "PR –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏", "—Ä–µ–º–æ–Ω—Ç –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ"]
        
    def get_time_of_day(self):
        hour = datetime.datetime.now().hour
        if 6 <= hour < 12: return "morning"
        elif 12 <= hour < 18: return "afternoon" 
        else: return "evening"
    
    def generate_post_with_ban(self, theme, time_of_day):
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–∞ —Å –ñ–ï–°–¢–ö–ò–ú –∑–∞–ø—Ä–µ—Ç–æ–º –Ω–∞ —É–¥–∞–ª–µ–Ω–∫—É"""
        prompt = f"""
        –°–û–ó–î–ê–ô –ü–û–°–¢ –î–õ–Ø TELEGRAM –ù–ê –¢–ï–ú–£: {theme}
        –í–†–ï–ú–Ø: {time_of_day}

        –°–¢–†–£–ö–¢–£–†–ê:
        - –¶–µ–ø–ª—è—é—â–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å —ç–º–æ–¥–∑–∏
        - –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞/—Ç—Ä–µ–Ω–¥
        - –ö–ª—é—á–µ–≤–æ–π –∏–Ω—Å–∞–π—Ç
        - 3-4 –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–≤–µ—Ç–∞ —Å–ø–∏—Å–∫–æ–º
        - –ö–æ—Ä–æ—Ç–∫–∏–π –∫–µ–π—Å
        - –í–æ–ø—Ä–æ—Å –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è

        –ñ–ï–°–¢–ö–ò–ï –ó–ê–ü–†–ï–¢–´:
        ‚ùå –ù–ò–ö–ê–ö–û–ô –£–î–ê–õ–ï–ù–ù–û–ô –†–ê–ë–û–¢–´
        ‚ùå –ù–ò–ö–ê–ö–û–ì–û –ì–ò–ë–†–ò–î–ù–û–ì–û –§–û–†–ú–ê–¢–ê  
        ‚ùå –ù–ò–ö–ê–ö–û–ì–û HOME OFFICE
        ‚ùå –ù–ò–ö–ê–ö–û–ì–û REMOTE WORK
        ‚ùå –ù–ò–ö–ê–ö–ò–• COVID –¢–ï–ú
        ‚ùå –ù–ò–ö–ê–ö–û–ô –î–ò–°–¢–ê–ù–¶–ò–û–ù–ö–ò

        –†–ê–ó–†–ï–®–ï–ù–û –¢–û–õ–¨–ö–û:
        ‚úÖ –û—Ñ–∏—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
        ‚úÖ –ñ–∏–≤–æ–µ –æ–±—â–µ–Ω–∏–µ
        ‚úÖ –õ–∏—á–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏
        ‚úÖ –û—á–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
        ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –∫–µ–π—Å—ã –∏–∑ –æ—Ñ–∏—Å–∞

        –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
        - –¢–æ–ª—å–∫–æ –æ—Ñ–∏—Å–Ω—ã–µ/—Ä–µ–∞–ª—å–Ω—ã–µ –∫–µ–π—Å—ã
        - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã 2024-2025
        - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–ª—å–∑–∞
        - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
        """

        try:
            print(f"üß† –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–∞: {theme}...")
            url = f"https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent?key={GEMINI_API_KEY}"
            
            response = requests.post(
                url,
                json={
                    "contents": [{"parts": [{"text": prompt}]}],
                    "generationConfig": {
                        "maxOutputTokens": 800,
                        "temperature": 0.8,
                    }
                },
                timeout=30
            )
            
            if response.status_code == 200:
                data = response.json()
                post_text = data["candidates"][0]["content"]["parts"][0]["text"].strip()
                
                # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Ç–µ–º—ã
                banned_keywords = ["—É–¥–∞–ª–µ–Ω", "–≥–∏–±—Ä–∏–¥–Ω", "remote", "home office", "–¥–∏—Å—Ç–∞–Ω—Ü", "covid", "–∫–∞—Ä–∞–Ω—Ç–∏–Ω", "–ª–æ–∫–¥–∞—É–Ω", "zoom", "–æ–Ω–ª–∞–π–Ω –≤—Å—Ç—Ä–µ—á", "–≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫"]
                for keyword in banned_keywords:
                    if keyword in post_text.lower():
                        print(f"üö´ –û–ë–ù–ê–†–£–ñ–ï–ù –ó–ê–ü–†–ï–©–ï–ù–ù–´–ô –ö–õ–Æ–ß: {keyword}")
                        return self.generate_fallback_post(theme)
                
                print(f"‚úÖ –ü–æ—Å—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω ({len(post_text)} —Å–∏–º–≤–æ–ª–æ–≤)")
                return post_text
            else:
                print(f"‚ùå –û—à–∏–±–∫–∞ Gemini: {response.status_code}")
                return self.generate_fallback_post(theme)
                
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: {e}")
            return self.generate_fallback_post(theme)
    
    def generate_fallback_post(self, theme):
        """–†–µ–∑–µ—Ä–≤–Ω—ã–π –ø–æ—Å—Ç –ë–ï–ó —É–¥–∞–ª–µ–Ω–∫–∏"""
        fallbacks = {
            "HR –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º": [
                """üéØ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ –≤ 2025

–ù–æ–≤—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Ç–µ—Ä—è—é—Ç 3 –Ω–µ–¥–µ–ª–∏ –Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü–∏—é –±–µ–∑ —Å–∏—Å—Ç–µ–º—ã –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞.

üí° –ö–ª—é—á–µ–≤–æ–π –∏–Ω—Å–∞–π—Ç: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç retention –Ω–∞ 65%

‚úÖ –ß—Ç–æ –≤–Ω–µ–¥—Ä–∏—Ç—å:
‚Ä¢ –ö–∞—Ä—Ç–∞ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –Ω–∞ 30 –¥–Ω–µ–π
‚Ä¢ –ú–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ –æ—Ç –æ–ø—ã—Ç–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤  
‚Ä¢ –ß–µ–∫-–ª–∏—Å—Ç—ã –ø–æ –¥–Ω—è–º –ø–µ—Ä–≤–æ–π –Ω–µ–¥–µ–ª–∏
‚Ä¢ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ñ–∏–¥–±–µ–∫-—Å–µ—Å—Å–∏–∏

üìä –ö–µ–π—Å: –í–Ω–µ–¥—Ä–∏–ª–∏ —Å–∏—Å—Ç–µ–º—É - —Å–æ–∫—Ä–∞—Ç–∏–ª–∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—é —Å 21 –¥–æ 7 –¥–Ω–µ–π

–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ –æ–∫—É–ø–∞—é—Ç—Å—è –ª–æ—è–ª—å–Ω–æ—Å—Ç—å—é –∫–æ–º–∞–Ω–¥—ã

üí¨ –ö–∞–∫ —Å—Ç—Ä–æ–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∞–¥–∞–ø—Ç–∞—Ü–∏–∏?""",

                """üöÄ –ú–æ—Ç–∏–≤–∞—Ü–∏—è –±–µ–∑ –±—é–¥–∂–µ—Ç–∞ –≤ 2025

76% —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Ü–µ–Ω—è—Ç –Ω–µ–º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—É—é –º–æ—Ç–∏–≤–∞—Ü–∏—é –≤—ã—à–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π

üí° –ì–ª–∞–≤–Ω–æ–µ: –ü—Ä–∏–∑–Ω–∞–Ω–∏–µ –≤–∞–∂–Ω–µ–µ –ø—Ä–µ–º–∏–∏

‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ—Ç–∏–≤–∞—Ü–∏–∏:
‚Ä¢ –°–∏—Å—Ç–µ–º–∞ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –ø—Ä–∏–∑–Ω–∞–Ω–∏—è
‚Ä¢ –ö–∞—Ä—å–µ—Ä–Ω—ã–µ –∫–∞—Ä—Ç—ã —Ä–∞–∑–≤–∏—Ç–∏—è
‚Ä¢ –ì–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫ –≤ —Ä–∞–º–∫–∞—Ö –æ—Ñ–∏—Å–∞
‚Ä¢ –û–±—É—á–µ–Ω–∏–µ –∑–∞ —Å—á–µ—Ç –∫–æ–º–ø–∞–Ω–∏–∏

üéØ –ü—Ä–∏–º–µ—Ä: –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ "–∑–≤–µ–∑–¥—ã –∫–æ–º–∞–Ω–¥—ã" –ø–æ–≤—ã—Å–∏–ª–∏ –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ 40%

–õ—É—á—à–∞—è –º–æ—Ç–∏–≤–∞—Ü–∏—è - —ç—Ç–æ —Ä–æ—Å—Ç –∏ –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ

üí¨ –ö–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –º–æ—Ç–∏–≤–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —É –≤–∞—Å?"""
            ],
            "PR –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏": [
                """üì± PR –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö 2025: –¢–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

–õ–∞–π–∫–∏ –Ω–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∂–∏ - –Ω—É–∂–Ω—ã –≥–ª—É–±–∏–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

üí° –ò–Ω—Å–∞–π—Ç: Engagement rate –≤–∞–∂–Ω–µ–µ –æ—Ö–≤–∞—Ç–æ–≤

‚úÖ –ß—Ç–æ –∏–∑–º–µ—Ä—è—Ç—å:
‚Ä¢ CTR –ø–æ —Å—Å—ã–ª–∫–∞–º
‚Ä¢ –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –ª–∏–¥—ã
‚Ä¢ Cost per lead
‚Ä¢ LTV –∫–ª–∏–µ–Ω—Ç–∞

üìà –ö–µ–π—Å: –°—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–ª–∏—Å—å –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ - —Ä–æ—Å—Ç –ø—Ä–æ–¥–∞–∂ –Ω–∞ 200%

–ò–∑–º–µ—Ä—è–π—Ç–µ —Ç–æ, —á—Ç–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –±–∏–∑–Ω–µ—Å, –∞ –Ω–µ –Ω–∞ —ç–≥–æ

üí¨ –ö–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏?""",

                """üî• –ê–Ω—Ç–∏–∫—Ä–∏–∑–∏—Å–Ω—ã–π PR 2025: –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏

–§–µ–π–∫–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è –≤ 10 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–∞–≤–¥—ã

üí° –ì–ª–∞–≤–Ω–æ–µ: –ü–µ—Ä–≤—ã–µ 15 –º–∏–Ω—É—Ç —Ä–µ—à–∞—é—Ç –≤—Å–µ

‚úÖ –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:
‚Ä¢ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π 24/7
‚Ä¢ –ó–∞—Ä–∞–Ω–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã
‚Ä¢ –û–±—É—á–µ–Ω–Ω—ã–µ —Å–ø–∏–∫–µ—Ä—ã –≤ –∫–∞–∂–¥–æ–º –æ—Ñ–∏—Å–µ
‚Ä¢ –ï–¥–∏–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤

üõ°Ô∏è –ü—Ä–∏–º–µ—Ä: –û—Ç–≤–µ—Ç –∑–∞ 12 –º–∏–Ω—É—Ç —Å–ø–∞—Å 90% —Ä–µ–ø—É—Ç–∞—Ü–∏–∏

–í –∫—Ä–∏–∑–∏—Å–µ –≤–∞–∂–Ω–∞ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ—Å—Ç—å, –∞ —Å–∫–æ—Ä–æ—Å—Ç—å

üí¨ –ö–∞–∫ –≥–æ—Ç–æ–≤–∏—Ç–µ—Å—å –∫ –∫—Ä–∏–∑–∏—Å–Ω—ã–º —Å–∏—Ç—É–∞—Ü–∏—è–º?"""
            ],
            "—Ä–µ–º–æ–Ω—Ç –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ": [
                """üè† –£–º–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã 2025: –≠–∫–æ–Ω–æ–º–∏—è –±–µ–∑ –ø–æ—Ç–µ—Ä—å

–ù–æ–≤—ã–µ –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–µ—à–µ–≤–ª–µ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –Ω–∞ 35%

üí° –ò–Ω—Å–∞–π—Ç: –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —ç–∫–æ–Ω–æ–º–∏—Ç—å –±–µ–∑ —É—â–µ—Ä–±–∞ –∫–∞—á–µ—Å—Ç–≤—É

‚úÖ –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
‚Ä¢ –í–ª–∞–≥–æ—Å—Ç–æ–π–∫–∏–µ –≥–∏–ø—Å–æ–∫–∞—Ä—Ç–æ–Ω—ã
‚Ä¢ –ö–≤–∞—Ä—Ü-–≤–∏–Ω–∏–ª–æ–≤—ã–µ –ø–æ–∫—Ä—ã—Ç–∏—è
‚Ä¢ –≠–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–µ–∫–ª–æ–ø–∞–∫–µ—Ç—ã
‚Ä¢ –≠–∫–æ–ª–æ–≥–∏—á–Ω—ã–µ –∫—Ä–∞—Å–∫–∏ –±–µ–∑ –∑–∞–ø–∞—Ö–∞

üíé –ö–µ–π—Å: –ö–≤–∞—Ä—Ç–∏—Ä–∞ —Å —É–º–Ω—ã–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ - —ç–∫–æ–Ω–æ–º–∏—è 400–∫ —Ä—É–±–ª–µ–π

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã = —Ä–∞–∑—É–º–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è

üí¨ –ö–∞–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –≤—ã–±–∏—Ä–∞–µ—Ç–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤?""",

                """üìê –ü–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞ 2025: –ú–∞–∫—Å–∏–º—É–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

70% –∫–≤–∞—Ä—Ç–∏—Ä –∏–º–µ—é—Ç –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é –ø–ª–∞–Ω–∏—Ä–æ–≤–∫—É

üí° –ì–ª–∞–≤–Ω–æ–µ: –ó–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–∂–Ω–µ–µ –∫–≤–∞–¥—Ä–∞—Ç—É—Ä—ã

‚úÖ –†–µ—à–µ–Ω–∏—è:
‚Ä¢ –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ
‚Ä¢ –ú–æ–±–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≥–æ—Ä–æ–¥–∫–∏
‚Ä¢ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è
‚Ä¢ –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ–º–∞—è –º–µ–±–µ–ª—å

üé™ –ü—Ä–∏–º–µ—Ä: 40–º¬≤ –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ 60–º¬≤ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è

–£–º–Ω–∞—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞ beats –±–æ–ª—å—à–∞—è –ø–ª–æ—â–∞–¥—å

üí¨ –ö–∞–∫ —Ä–µ—à–∞–µ—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏?"""
            ]
        }
        
        return random.choice(fallbacks.get(theme, fallbacks["HR –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º"]))
    
    def add_hashtags(self, theme):
        """–î–æ–±–∞–≤–ª—è–µ—Ç —Ö–µ—à—Ç–µ–≥–∏"""
        hashtags = {
            "HR –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º": "#HR #—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #–∫–æ–º–∞–Ω–¥–∞ #–æ—Ñ–∏—Å #–ø–µ—Ä—Å–æ–Ω–∞–ª #2025",
            "PR –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏": "#PR #–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ #–±—Ä–µ–Ω–¥ #–º–µ–¥–∏–∞ #–º–∞—Ä–∫–µ—Ç–∏–Ω–≥ #2025", 
            "—Ä–µ–º–æ–Ω—Ç –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ": "#—Ä–µ–º–æ–Ω—Ç #—Å—Ç—Ä–æ–π–∫–∞ #–¥–∏–∑–∞–π–Ω #–∏–Ω—Ç–µ—Ä—å–µ—Ä #–∫–≤–∞—Ä—Ç–∏—Ä–∞ #2025"
        }
        return hashtags.get(theme, "#2025")
    
    def send_post(self):
        """–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏"""
        theme = random.choice(self.themes)
        time_of_day = self.get_time_of_day()
        
        print(f"üéØ –¢–µ–º–∞: {theme}")
        print(f"‚è∞ –í—Ä–µ–º—è: {time_of_day}")
        
        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–æ—Å—Ç
        post_text = self.generate_post_with_ban(theme, time_of_day)
        hashtags = self.add_hashtags(theme)
        full_post = f"{post_text}\n\n{hashtags}"
        
        print(f"üìù –ü–æ—Å—Ç –≥–æ—Ç–æ–≤ ({len(full_post)} —Å–∏–º–≤–æ–ª–æ–≤)")
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
        url = f"https://api.telegram.org/bot{BOT_TOKEN}/sendMessage"
        payload = {
            "chat_id": CHANNEL_ID,
            "text": full_post,
            "parse_mode": "HTML"
        }
        
        try:
            print("üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å—Ç–∞...")
            response = requests.post(url, json=payload, timeout=15)
            
            if response.status_code == 200:
                result = response.json()
                if result.get('ok'):
                    print("‚úÖ –ü–û–°–¢ –£–°–ü–ï–®–ù–û –û–¢–ü–†–ê–í–õ–ï–ù!")
                    return True
            
            print(f"‚ùå –û—à–∏–±–∫–∞: {response.status_code}")
            return False
                
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: {e}")
            return False

def main():
    print("\nüöÄ –ó–ê–ü–£–°–ö –ì–ï–ù–ï–†–ê–¢–û–†–ê –ü–û–°–¢–û–í (–ë–ï–ó –£–î–ê–õ–ï–ù–ö–ò!)")
    print("=" * 80)
    
    bot = SimplePostGenerator()
    success = bot.send_post()
    
    if success:
        print("\nüéâ –ü–û–°–¢ –û–¢–ü–†–ê–í–õ–ï–ù –ë–ï–ó –£–î–ê–õ–ï–ù–ù–û–ô –†–ê–ë–û–¢–´!")
    else:
        print("\nüí• –û–®–ò–ë–ö–ê –û–¢–ü–†–ê–í–ö–ò!")
    
    print("=" * 80)

if __name__ == "__main__":
    main()
